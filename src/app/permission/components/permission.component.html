<div *transloco="let translate">
  <mat-card [style.width]="'50%'">
    <mat-card-header>
      <h2>{{ 'permissions.permissionForm' | transloco }}</h2>
    </mat-card-header>
    <mat-card-content>
      <form class="permissions-form" [formGroup]="permissionForm" (ngSubmit)="onSubmit()">
        <mat-form-field>
          <mat-select
            formControlName="role"
            placeholder="Role"
            (selectionChange)="getRightsSelected()"
          >
            <mat-option *ngFor="let role of roles" [value]="role">
              {{ translate('roles.' + role.name) }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-select
            formControlName="rights"
            placeholder="Rights"
            multiple
            [compareWith]="compareObjects"
          >
            <mat-option *ngFor="let right of rights" [value]="right" class="chk-box">
              {{ right.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <button mat-raised-button color="primary" type="submit" [disabled]="!permissionForm.valid">
          Submit
        </button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
